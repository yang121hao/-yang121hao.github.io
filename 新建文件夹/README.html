<h3 id="我的个人博客"><a href="#我的个人博客" class="headerlink" title="我的个人博客"></a>我的个人博客</h3><p><a href="https://yangyuhou.com">预览地址</a></p>
<h3 id="构建工具🔨"><a href="#构建工具🔨" class="headerlink" title="构建工具🔨"></a>构建工具🔨</h3><ul>
<li><a href="https://hexo.io/zh-cn/index.html">Hexo</a></li>
<li><a href="https://github.com/">Github</a></li>
<li><a href="https://www.netlify.com/">Netlify</a></li>
</ul>
<h3 id="构建方法"><a href="#构建方法" class="headerlink" title="构建方法"></a>构建方法</h3><p>  我的博客在曾经的很长一段时间以内,我都是将博客静态页面托管到<a href="https://pages.github.com/">Github pages</a>进行渲染的,但是大家都知道,我们国内访问GitHub如果不挂<del>翻墙</del>的话,访问速度非常慢☹️.虽然我的博客一直以来都没有太多的访问量,但是作为一个追求极致体验的人,怎么忍受得了呢 🤟.<!-- more --></p>
<h3 id="寻找方案"><a href="#寻找方案" class="headerlink" title="寻找方案"></a>寻找方案</h3><p>  于是我在网上搜索最优化的解决方案.我想的是,生成博客的渲染框架还是使用<a href="https://hexo.io/zh-cn/">Hexo</a>,但是页面托管我得重新找一个托管商,于是我在vue的官网,知道了<a href="https://www.netlify.com/">Netlify</a>这个神器.Netlify是什么：</p>
<blockquote>
<p>Netlify is a unified platform that automates your code to create high-performant, easily maintainable sites and web apps.</p>
</blockquote>
<p>我看了官网的介绍,总结一下,它有如下功能：</p>
<ul>
<li>可以托管静态资源</li>
<li>可以将静态网站部署到CDN上</li>
<li>Continuous Deployment 持续部署,当你提交改变到git 仓库,它就会自动运行build command,进行自动部署</li>
<li>可以添加自定义域名</li>
<li><strong>可以启用免费的TLS证书,启用HTTPS</strong></li>
</ul>
<p>Oh my God!!,这可比Git pages好太多了👏我们来对比一下Github pages：</p>
<ul>
<li><p>github虽然没有被墙,但是那个访问速度非常的慢,对国内访问的用户来说体验极差</p>
</li>
<li><p>百度无法抓取,众所周知国内用百度的还是多,如果你写的文章,无法被百度抓取收录,那还是有点坑的</p>
</li>
<li><p>配置繁琐,使用不友好.https证书配置这一项就麻烦的要死</p>
</li>
<li><p>无法做CDN加速.未备案域名服务器,无法使用国内的cnd加速服务</p>
</li>
</ul>
<p>所以,我准备采用Netlify作为我的页面托管商.下面我们即将开始搭建博客咯！</p>
<h3 id="开始动手"><a href="#开始动手" class="headerlink" title="开始动手"></a>开始动手</h3><p>​    第一步,我们需要安装<a href="https://hexo.io/zh-cn/">Hexo</a></p>
<p>​    安装hexo之前需要安装一下环境：</p>
<ul>
<li><a href="http://nodejs.org/">Node.js</a></li>
<li><a href="https://git-scm.com/">Git</a></li>
</ul>
<p>安装完node后安装npm:</p>
<pre><code class="lang-js">$ npm -g install npm
</code></pre>
<p>不能翻墙的同学,可使用npm淘宝镜像cnpm:</p>
<pre><code class="lang-js">$ npm install -g cnpm --registry=https://registry.npm.taobao.org
</code></pre>
<blockquote>
<p>注：安装了淘宝源的镜像cnpm之后,接下来所有的npm 开头的命令均使用<code>cnpm</code>来代替</p>
</blockquote>
<p>接着我们来安装Hexo：</p>
<pre><code class="lang-js">$ npm install -g hexo-cli
</code></pre>
<p>测试一下是否安装成功：</p>
<pre><code>$ hexo version
</code></pre><p>然后在我们的电脑上,选择一个目录：</p>
<pre><code>$ hexo init &quot;博客目录&quot; #使用hexo命令在指定的&lt;folder&gt;文件夹下初始化创建一个博客项目
$ cd &quot;博客目录&quot;         #进入创建好的项目目录
$ npm install         #使用npm安装所需依赖.
</code></pre><p>这个新建的”博客目录”就是用来作为你以后存放博客的目录,这其中包括博客的配置、文章等等的一切.新建完成之后,我们用任何一个代码编辑器打开我们刚刚新建的目录,有如下目录结构：</p>
<pre><code>.
├── _config.yml
├── package.json
├── scaffolds
├── source
|   ├── _drafts
|   └── _posts
└── themes
</code></pre><blockquote>
<p>注：这里会涉及一些<a href="https://hexo.io/zh-cn/docs/commands">hexo cli</a>的指令,请自行学习一下,以后都会用到的.</p>
</blockquote>
<p>然后我们试着跑一下,看是否能够成功启动:</p>
<pre><code>$ hexo clean #清理各种缓存和旧文件
$ hexo g     #生成静态文件
$ hexo s     #开启服务器预览
</code></pre><p>执行完 <code>hexo s</code> 后命令行窗口将提示您如下信息:</p>
<pre><code>INFO  Start processing
INFO  Hexo is running at http://localhost:4000 . Press Ctrl+C to stop.
</code></pre><p>打开<a href="http://localhost:4000">http://localhost:4000</a> 即可预览你的第一篇hexo博文.</p>
<h3 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h3><p>  接下来才是重头戏：进入部署环节.在正式进行部署之前,我先来讲一下什么是部署：</p>
<p> 当我们使用 <code>hexo g</code> 和 <code>hexo s</code> 命令生成并开启服务后,我们本地访问的测试域名-<a href="http://localhost:4000">http://localhost:4000</a> 实际是指向了我们当前目录下的 public 目录,也就是说 <code>hexo g</code> 命令会生成 public 目录,这个目录下面装着我们的静态页面文件和相关依赖,部署的过程就是将这个 public 目录下的文件放到我们的服务器上这样就完成了部署.</p>
<p>好了接下来我们来进行部署：</p>
<h4 id="同步到Github"><a href="#同步到Github" class="headerlink" title="同步到Github"></a>同步到Github</h4><p>先到GitHub新建一个repository:</p>
<p><img src="https://i.loli.net/2019/04/24/5cc0876b108de.png" alt="QQ20190424-235658@2x.png"></p>
<p>复制你刚刚新建的repository的地址,像这样: </p>
<pre><code>  https://github.com/xieyezi/your-Repository.git
</code></pre><p>  回到项目根目录,将你的本地项目和新建的repository联系起来:</p>
<pre><code>  git remote add origin https://github.com/xieyezi/your-Repository.git
</code></pre><p>  在当前根目录下新建.gitignore文件<br>  将不需要同步的文件和目录写到.gitignore:</p>
<pre><code>.DS_Store
Thumbs.db
db.json
*.log
node_modules/
themes/
.deploy*/
</code></pre><p>  完成之后,到根目录:</p>
<pre><code>  git add ./
</code></pre><pre><code>  git commit -m &#39;commit information&#39;
</code></pre><p>  接着推送到GitHub:</p>
<pre><code> git push --set-upstream origin master
</code></pre><p>到这里,我们已经讲我们的项目推送到GitHub的master分支下面了.接下来我们要对hexo进行一些配置:</p>
<p>打开hexo根目录的<code>_config.yml</code>文件找到deploy项：</p>
<pre><code>deploy:
  type: git #部署方式
  repository: git@github.com:xieyezi/your-Repository.git #关联github仓库
  branch: run-page #部署分支
</code></pre><p>在这里,我们将在这个项目仓库下新建一个<code>run-page</code>分支,至于有什么用,我等一下会解释,先跟着我操作起来.</p>
<p>配置好了之后,保存退出,我们重新执行一下:</p>
<pre><code>$ hexo clean #清理各种缓存和旧文件
$ hexo g     #生成静态文件
</code></pre><p>最后,我们将public目录同步到Github:</p>
<pre><code>$ hexo d #部署应用
</code></pre><p>在执行这个命令的时候,我们可能会出现如下错误：</p>
<pre><code>$ ERROR Deployer not found: git
</code></pre><p>那是因为我们缺少一个依赖,我们安装一下:</p>
<pre><code>npm install hexo-deployer-git --save
</code></pre><p>然后再次执行一下,执行完成我们到Github 会发现我们的项目多了一个<code>run-page</code>,这个分支就是我们后面要用来生成我们到静态页面的.</p>
<h4 id="托管到Netlify"><a href="#托管到Netlify" class="headerlink" title="托管到Netlify"></a>托管到Netlify</h4><p><a href="https://www.cnblogs.com/37Y37/p/12551839.html">查看此博主文档</a></p>
